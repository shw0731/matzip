<!-- <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap>

	<typeAlias alias="powerLink" type="powerLink.PowerLinkVO" />

		리절트 맵 정의
	  	<resultMap id="powerLinkRes" class="powerLink">
		  	<result property="restaurantNo" column="restaurantNo"/>
		  	<result property="state" column="state"/>
		  	<result property="start_date" column="start_date"/>
		  	<result property="memberID" column="memberID"/>
		</resultMap>
		
공통으로 사용할 select 절 정의
<sql id="select-all">
  SELECT * FROM POWERLINKREG 
</sql>
		
공통으로 사용할 where-no 절 정의
<sql id="where-no">
  WHERE restaurantNo = #restaurantNo#
</sql>

select쿼리문
<select id="selectAll" resultMap="powerLinkRes">
<include refid="select-all"/>
ORDER BY restaurantNo DESC
</select>

<select id="selectOne" resultMap="powerLinkRes" parameterClass="int">
  <include refid="select-all"/>
  <include refid="where-no"/>
</select>

<select id="selectLasNo" resultClass="powerLink">
 SELECT max(restaurantNo) as restaurantNo FROM POWERLINKREG
</select>


insert쿼리문

<insert id="insertPowerLink" parameterClass="powerLink">
  INSERT INT POWERLINKREG (RESTAURANTNO,
                   STATE,
                   START_DATE,
                   MEMBERID
                   )
   VALUES (#restaurantNo#,
           #state#,
           #start_date#,
           #memberID#
           )
</insert>

update쿼리문

<update id="updatePowerLink" parameterClass="powerLink">
UPDATE POWERLINKREG SET RESTAURANTNO = #restaurantNo#,
                        STATE = #state#,
                        START_DATE = #start_date#,
                        MEMBERID = #memberID#
        
</update>

<update id="updateFile" parameterClass="powerLink">
  UPDATE POWERLINKREG SET FILE_ORGNAME = #file_orgname#, FILE_SAVNAME = #file_savname#
  <include refid="where-no"/>
</update>


delete 쿼리문 정의
<delete id="deletePowerLink" parameterClass="PowerLink">
  DELETE FROM POWERLINKREG 
<include refid="where-no" />
</delete>



		


</sqlMap>
 -->